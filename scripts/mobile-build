#!/bin/bash
# Build the mobile app for iOS simulator or device
#
# Usage:
#   scripts/mobile-build           # Build development client for simulator
#   scripts/mobile-build device    # Build for physical device

set -e
cd "$(dirname "$0")/../mobile"

# Install dependencies if needed
if [ ! -d "node_modules" ]; then
    echo "Installing mobile dependencies..."
    npm install
fi

case "${1:-}" in
    device)
        echo "Building for physical iOS device..."
        npx expo run:ios --device
        ;;
    *)
        echo "Building for iOS simulator..."
        npx expo run:ios
        ;;
esac
