#!/bin/bash
set -e
cd "$(dirname "$0")/.."

# Install Review CLI and Tauri app for local use (separate from dev workflow)

echo "Installing CLI binaries to ~/.cargo/bin/..."
cargo install --path review --features cli --force

echo ""
echo "Building Tauri app..."
npm run tauri build

echo ""
echo "Installing Review.app to /Applications/..."
cp -r target/release/bundle/macos/Review.app /Applications/

echo ""
echo "Done! Installed:"
echo "  - review (in ~/.cargo/bin/)"
echo "  - git-review (in ~/.cargo/bin/, use as 'git review')"
echo "  - Review.app (in /Applications/)"
